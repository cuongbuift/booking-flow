import{B as M}from"./BookingSteps-B1-p9MEP.js";import{d as y,c as p,o as i,a as o,t as s,n as N,u as e,_ as x,r as b,e as j,p as q,q as H,g as V,h as P,F as g,s as G,w as W,k as F,v as U,l as L,m as A,b as B}from"./index-DkKolZQw.js";import{b as K,d as E,a as O}from"./formatHelper-BQ4ghVnZ.js";import{g as Y}from"./mock.service-BiR1PagJ.js";import{u as z}from"./bookingStore-ZOmC6HTM.js";const J={class:"room-item"},Q={class:"img-block"},X=["src","alt"],Z={class:"room-info"},oo={class:"room-title"},to={class:"desc"},so={class:"book-room-block"},eo={class:"price"},no=y({__name:"Room",props:{room:{}},emits:["selectRoom"],setup(w,{emit:a}){const t=w,k=a,R=()=>{k("selectRoom",t.room)};return(_,l)=>{var d,u,c,h,v,f;return i(),p("div",J,[o("div",Q,[o("img",{src:(d=t.room)==null?void 0:d.image,alt:(u=t.room)==null?void 0:u.title,class:"room-thumbnail"},null,8,X)]),o("div",Z,[o("h4",oo,s((c=t.room)==null?void 0:c.title),1),o("h6",null,s((h=t.room)==null?void 0:h.description),1),o("p",to,s((v=t.room)==null?void 0:v.content),1)]),o("div",so,[o("p",eo,[o("span",null,s(e(K)((f=t.room)==null?void 0:f.price)),1),l[0]||(l[0]=N("/night "))]),l[1]||(l[1]=o("p",null,"Subject to GST and charges",-1)),o("button",{type:"button",class:"btn-common",onClick:R},"BOOK ROOM")])])}}}),ao=x(no,[["__scopeId","data-v-6b73e9c8"]]),ro={class:"search-selected-info"},lo={class:"search-selected-dates"},co={class:"search-selected-guests"},io={key:0},uo={class:"sort-by"},mo={class:"dropdown"},po={class:"dropdown-text"},_o={class:"dropdown-menu"},ho=["onClick"],vo=y({__name:"ListingRoom",setup(w){const a=b(!1),t=b("LOWEST PRICE"),k=["LOWEST PRICE","HIGHEST PRICE"],R=j(),_=q(),l=b([]),d=_.query.fromDate,u=_.query.toDate,c=_.query.children,h=_.query.adults,v=E(u).diff(E(d),"day"),f=z();H(t,async r=>{await C(),console.log(r)});const D=()=>{a.value=!a.value},$=()=>{a.value=!1},I=r=>{t.value=r,a.value=!1},T=r=>{f.selectRoom(r,d,u,+h,+c),R.push("/contact-details")},C=async()=>{l.value=[...await Y(t.value==="LOWEST PRICE"?"asc":"desc")]};V(async()=>{C(),document.addEventListener("click",S)});function S(r){r.target.closest(".dropdown")||$()}return P(()=>{document.removeEventListener("click",S)}),(r,n)=>(i(),p(g,null,[o("div",ro,[o("div",lo,[o("span",null,s(e(O)(e(d))),1),n[0]||(n[0]=o("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"black",xmlns:"http://www.w3.org/2000/svg"},[o("path",{d:"M2 12H20L14 6M20 12L14 18",stroke:"black","stroke-width":"2",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"})],-1)),o("span",null,s(e(O)(e(u))),1)]),o("div",co,[o("span",null,s(e(v))+" NIGHT",1),n[1]||(n[1]=o("span",null,"|",-1)),o("span",null,s(e(h))+" ADULT(S)",1),e(c)&&e(c)!=="0"?(i(),p("span",io,"- "+s(e(c))+" CHILDREN",1)):G("",!0)])]),o("div",uo,[n[3]||(n[3]=o("span",null,"SORT BY:",-1)),o("div",mo,[o("button",{class:"dropdown-btn",onClick:F(D,["stop"])},[o("span",po,s(t.value),1),n[2]||(n[2]=o("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"})],-1))]),W(o("div",_o,[(i(),p(g,null,L(k,m=>o("a",{class:"dropdown-item",href:"javascript:",key:m,onClick:go=>I(m)},s(m),9,ho)),64))],512),[[U,a.value]])])]),o("div",null,[(i(!0),p(g,null,L(l.value,m=>(i(),A(ao,{key:m.title,room:m,onSelectRoom:T},null,8,["room"]))),128))])],64))}}),fo=x(vo,[["__scopeId","data-v-653a95ad"]]),Co=y({__name:"ListingRoomView",setup(w){return(a,t)=>(i(),p(g,null,[B(M,{step:2}),B(fo)],64))}});export{Co as default};
